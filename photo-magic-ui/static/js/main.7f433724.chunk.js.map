{"version":3,"sources":["assets/js/http.ts","pages/common/BreadCrumb.tsx","pages/common/Title.tsx","context/AppContext.ts","assets/images/info/step1.svg","assets/images/info/step2.svg","assets/images/info/step3.png","assets/images/info/video-step2.png","assets/images/info/video-step3.png","assets/images/angle-right.svg","assets/images/info/image1.png","assets/images/info/image2.png","assets/images/info/image3.png","assets/images/info/video-image1.png","assets/images/info/video-image2.png","assets/images/info/video-image3.png","hooks/useKeypress.tsx","pages/common/StepInfo.tsx","pages/photo/Photo.tsx","assets/js/const.ts","assets/images/prev-icon.svg","pages/common/comps/PrevIcon.tsx","assets/images/next-icon.svg","pages/common/comps/NextIcon.tsx","pages/photo/StepTakePhoto.tsx","pages/photo/StepChooseBG.tsx","assets/images/print.jpg","pages/common/comps/PrintImage.tsx","pages/photo/StepPrint.tsx","pages/common/ExitButton.tsx","pages/common/CopyRight.tsx","pages/settings/Settings.tsx","pages/Term.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["instance","axios","create","headers","interceptors","request","use","config","error","Promise","reject","response","console","info","status","resolve","_error$response","_error$response$confi","_error$response2","_error$response2$conf","_error$response3","_error$response3$conf","Swal","fire","concat","message","url","params","JSON","stringify","undefined","log","success","msg","BreadCrumb","_ref","title","_jsx","className","Title","props","desc","_jsxs","children","APP_CONTEXT_DEFAULT","logoUrl","photoRowCount","photoAPIUrl","backgroundPhotoJSONUrl","backgroundPhotoUrl","wechatLikeNum","websocketServerUrl","photoMirroredDefault","showUseTerm","legalEntityName","AppContext","React","createContext","useKeyPress","targetKey","_useState","useState","_useState2","_slicedToArray","keyPressed","setKeyPressed","downHandler","key","upHandler","_ref2","useEffect","window","addEventListener","removeEventListener","EnumStep","StepInfo","appConfig","useContext","visible","setVisible","_useState3","_useState4","agree","setAgree","_useState5","_useState6","showError","setShowError","type","nextClick","stepInfoFirst","stepInfoSecond","stepInfoThird","enterPressed","arrowDownPressed","arrowUpPressed","height","src","STEP_ONE_ICON","ANGLE_RIGHT","STEP_TWO_ICON_VIDEO","STEP_TWO_ICON","STEP_THREE_ICON_VIDEO","STEP_THREE_ICON","STEP_ONE_VIDEO_IMAGE","STEP_ONE_IMAGE","STEP_TWO_VIDEO_IMAGE","STEP_TWO_IMAGE","STEP_THREE_VIDEO_IMAGE","STEP_THREE_IMAGE","onClick","Modal","width","onClose","Checkbox","checked","onChange","target","href","SUMMIT_COUNT_DOWN_NUM","SUMMIT_PRINTER_NUM","PrevIcon","text","PREV_ICON","NextIcon","NEXT_ICON","COUND_DOWN","Number","parseInt","localStorage","getItem","ratio","StepTakePhoto","userBg","prevClick","webcamRef","useRef","imageRes","setImageRes","showRequirePhoto","setShowRequirePhoto","countDownNum","setCountDownNum","_useState7","_useState8","startCountDown","setStartCountDown","_useState9","_useState10","loadingData","setLoadingData","_useState11","_useState12","photoMirrored","setPhotoMirrored","pageUpPressed","pageDownPressed","arrowRightPressed","capture","useCallback","_webcamRef$current","imageSrc","current","getScreenshot","MImage","crop","x","y","radius","draw","b64","imageData","data","task","img","replace","background","Axios","post","then","res","rlt_image","buildAIBgPhoto","id","setInterval","prev","clearInterval","videoConstraints","facingMode","style","transform","zIndex","position","left","bottom","backgroundColor","top","right","Webcam","objectFit","objectPosition","mirrored","audio","forceScreenshotSourceSize","ref","screenshotFormat","event","marginLeft","minHeight","_Fragment","StepChooseBG","curBg","setCurBg","bgMapList","setBgMapList","arrowLeftPressed","Object","keys","length","get","Loader","color","entries","map","PrintImage","imgSrc","StepPrint","imageUrl","componentRef","showPrint","setShowPrint","webSocket","setWebSocket","sendPhotoToServer","payload","action","printerNum","photoUrl","send","sendPhotoToServerSocketIO","emit","time","format","Date","startsWith","socket","socketIOClient","transports","secure","on","reason","connectSocketIO","WebSocket","e","parse","connect","fontSize","QRCode","size","value","Printer","footer","ExitButton","hasTips","alertUser","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","reverseButtons","result","isConfirmed","location","escapePressed","minWidth","padding","CopyRight","PhotoDemo","INFO","curStep","setCurStep","setUserBg","resImageUrl","setresImageUrl","CHOOSE_BG","TAKE_PHOTO","PRINT","bgId","resImgData","backToHome","setPrinterNum","setItem","toString","Term","App","loadingConfig","setLoadingConfig","setAppConfig","timeStamp","getTime","Router","Provider","Switch","Route","exact","path","component","Settings","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f433724.chunk.js","sourcesContent":["import axios from \"axios\";\n\nimport Swal from \"sweetalert2\";\n\nconst instance = axios.create({\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\ninstance.interceptors.request.use(\n  (config) => {\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\ninstance.interceptors.response.use(\n  (response) => {\n    console.info(\"response:\", response);\n    if (response.status === 401 || response.status === 403) {\n      // Redirect to Authing Login\n      return Promise.reject(\"401 User Unauthorized\");\n    } else {\n      if (response) {\n        return Promise.resolve(response);\n      } else {\n        return Promise.reject(\"response error\");\n      }\n    }\n  },\n  (error) => {\n    console.info(\"ERR:\", error.response);\n    // Swal.fire(error.message);\n    Swal.fire(\n      `${error.message}`,\n      `${error?.response?.config?.url} \\n ${\n        error?.response?.config?.params\n          ? JSON.stringify(error?.response?.config?.params)\n          : \"\"\n      }`,\n      undefined\n    );\n    console.log(\"-- error --\");\n    console.error(error);\n    console.log(\"-- error --\");\n    return Promise.reject({\n      success: false,\n      msg: error,\n    });\n  }\n);\n\nexport default instance;\n","import React from \"react\";\n// import { Link } from \"react-router-dom\";\n// import BreadIcon from \"assets/images/bread-icon.svg\";\n\ninterface BreadCrumbProps {\n  title: string;\n}\n\nconst BreadCrumb: React.FC<BreadCrumbProps> = ({ title }: BreadCrumbProps) => {\n  console.info(\"title:\", title);\n  return (\n    <div className=\"bread-crumb\">\n      {/* <span className=\"item\">\n        <Link to=\"/\">云中体验</Link>\n      </span>\n      <span className=\"item icon\">\n        <img src={BreadIcon} />\n      </span>\n      <span className=\"item text\">{title}</span> */}\n    </div>\n  );\n};\n\nexport default BreadCrumb;\n","import React from \"react\";\nimport BreadCrumb from \"pages/common/BreadCrumb\";\n// import SummitSlogan from \"assets/images/summit-slogan.svg\";\n\ninterface TitleProps {\n  title: string;\n  desc: string;\n}\n\nconst Title: React.FC<TitleProps> = (props: TitleProps) => {\n  const { title, desc } = props;\n  return (\n    <div>\n      <div>\n        <BreadCrumb title={title} />\n        {/* <div className=\"summit-slogan\">\n          <img src={SummitSlogan} />\n        </div> */}\n      </div>\n      <div>\n        <div className=\"step-title\">{title}</div>\n        <div className=\"step-desc\">{desc}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Title;\n","import React from \"react\";\n\nexport interface AppContextType {\n  logoUrl: string;\n  photoRowCount: number;\n  photoAPIUrl: string;\n  backgroundPhotoJSONUrl: string;\n  backgroundPhotoUrl: string;\n  wechatLikeNum: number;\n  websocketServerUrl: string;\n  photoMirroredDefault: boolean;\n  showUseTerm: boolean;\n  legalEntityName: string;\n}\n\nexport const APP_CONTEXT_DEFAULT = {\n  logoUrl: \"\",\n  photoRowCount: 5,\n  photoAPIUrl: \"\",\n  backgroundPhotoJSONUrl: \"\",\n  backgroundPhotoUrl: \"\",\n  wechatLikeNum: 10,\n  websocketServerUrl: \"\",\n  photoMirroredDefault: true,\n  showUseTerm: false,\n  legalEntityName: \"亚马逊云科技\",\n};\n\nconst AppContext = React.createContext<AppContextType>(APP_CONTEXT_DEFAULT);\nexport default AppContext;\n","export default __webpack_public_path__ + \"static/media/step1.5fbf5e94.svg\";","export default __webpack_public_path__ + \"static/media/step2.8bdbfde8.svg\";","export default __webpack_public_path__ + \"static/media/step3.14add419.png\";","export default __webpack_public_path__ + \"static/media/video-step2.e1b53ddd.png\";","export default __webpack_public_path__ + \"static/media/video-step3.c39d20d8.png\";","export default __webpack_public_path__ + \"static/media/angle-right.abc4a8b1.svg\";","export default __webpack_public_path__ + \"static/media/image1.2b5cb4e1.png\";","export default __webpack_public_path__ + \"static/media/image2.1f5577ac.png\";","export default __webpack_public_path__ + \"static/media/image3.63249841.png\";","export default __webpack_public_path__ + \"static/media/video-image1.f2e757ad.png\";","export default __webpack_public_path__ + \"static/media/video-image2.536cf469.png\";","export default __webpack_public_path__ + \"static/media/video-image3.b3ba8d7c.png\";","import { useEffect, useState } from \"react\";\n/**\n * useKeyPress\n * @param {string} key - the name of the key to respond to, compared against event.key\n * @param {function} action - the action to perform on key press\n */\nexport default function useKeyPress(targetKey: string): boolean {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState(false);\n  // If pressed key is our target key then set to true\n  function downHandler({ key }: KeyboardEvent): void {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n  // If released key is our target key then set to false\n  const upHandler = ({ key }: KeyboardEvent): void => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener(\"keydown\", downHandler);\n    window.addEventListener(\"keyup\", upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler);\n      window.removeEventListener(\"keyup\", upHandler);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n  return keyPressed;\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Checkbox, Modal } from \"aws-northstar\";\nimport AppContext from \"context/AppContext\";\n\nimport STEP_ONE_ICON from \"assets/images/info/step1.svg\";\nimport STEP_TWO_ICON from \"assets/images/info/step2.svg\";\nimport STEP_THREE_ICON from \"assets/images/info/step3.png\";\n\nimport STEP_TWO_ICON_VIDEO from \"assets/images/info/video-step2.png\";\nimport STEP_THREE_ICON_VIDEO from \"assets/images/info/video-step3.png\";\n\nimport ANGLE_RIGHT from \"assets/images/angle-right.svg\";\n\nimport STEP_ONE_IMAGE from \"assets/images/info/image1.png\";\nimport STEP_TWO_IMAGE from \"assets/images/info/image2.png\";\nimport STEP_THREE_IMAGE from \"assets/images/info/image3.png\";\n\nimport STEP_ONE_VIDEO_IMAGE from \"assets/images/info/video-image1.png\";\nimport STEP_TWO_VIDEO_IMAGE from \"assets/images/info/video-image2.png\";\nimport STEP_THREE_VIDEO_IMAGE from \"assets/images/info/video-image3.png\";\n\nimport { StepProps } from \"assets/types/index\";\nimport useKeyPress from \"hooks/useKeypress\";\n\nconst StepInfo: React.FC<StepProps> = (props: StepProps) => {\n  const appConfig = useContext(AppContext);\n  const [visible, setVisible] = useState(false);\n  const [agree, setAgree] = useState(false);\n  const [showError, setShowError] = useState(false);\n\n  const {\n    title,\n    type,\n    nextClick,\n    stepInfoFirst,\n    stepInfoSecond,\n    stepInfoThird,\n  } = props;\n\n  const enterPressed = useKeyPress(\"Enter\");\n\n  const arrowDownPressed = useKeyPress(\"ArrowDown\");\n  const arrowUpPressed = useKeyPress(\"ArrowUp\");\n\n  useEffect(() => {\n    if (arrowUpPressed || arrowDownPressed) {\n      setAgree(true);\n      setShowError(false);\n    }\n  }, [arrowUpPressed, arrowDownPressed]);\n\n  useEffect(() => {\n    if (enterPressed) {\n      console.info(\"enterPressed:enterPressed\");\n      if (appConfig.showUseTerm) {\n        setVisible(true);\n      } else {\n        nextClick();\n      }\n      if (!agree) {\n        setShowError(true);\n        return;\n      }\n      nextClick();\n    }\n  }, [enterPressed]);\n\n  return (\n    <div className=\"demo-area\">\n      <div className=\"demo-title\">{title}</div>\n      <div className=\"step-guide\">\n        <div className=\"text-center\">\n          <div>\n            <img height=\"90\" src={STEP_ONE_ICON} />\n          </div>\n          <div className=\"step-name\">{stepInfoFirst}</div>\n        </div>\n        <div>\n          <div className=\"angle-right\">\n            <img src={ANGLE_RIGHT} />\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div>\n            <img\n              height=\"90\"\n              src={type === \"VIDEO\" ? STEP_TWO_ICON_VIDEO : STEP_TWO_ICON}\n            />\n          </div>\n          <div className=\"step-name\">{stepInfoSecond}</div>\n        </div>\n        <div>\n          <div className=\"angle-right\">\n            <img src={ANGLE_RIGHT} />\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div>\n            <img\n              height=\"90\"\n              src={type === \"VIDEO\" ? STEP_THREE_ICON_VIDEO : STEP_THREE_ICON}\n            />\n          </div>\n          <div className=\"step-name\">{stepInfoThird}</div>\n        </div>\n      </div>\n      <div className=\"step-image align-item-flex-center info\">\n        <div>\n          <img\n            height=\"180\"\n            src={type === \"VIDEO\" ? STEP_ONE_VIDEO_IMAGE : STEP_ONE_IMAGE}\n          />\n        </div>\n        <div>\n          <img\n            height={type === \"VIDEO\" ? \"180\" : \"150\"}\n            src={type === \"VIDEO\" ? STEP_TWO_VIDEO_IMAGE : STEP_TWO_IMAGE}\n          />\n        </div>\n        <div>\n          <img\n            height={type === \"VIDEO\" ? \"140\" : \"180\"}\n            src={type === \"VIDEO\" ? STEP_THREE_VIDEO_IMAGE : STEP_THREE_IMAGE}\n          />\n        </div>\n      </div>\n      <div className=\"start-button text-center\">\n        <button\n          className=\"button\"\n          onClick={() => {\n            if (appConfig.showUseTerm) {\n              setVisible(true);\n            } else {\n              nextClick();\n            }\n          }}\n        >\n          开始体验\n        </button>\n      </div>\n\n      <Modal\n        width=\"1000px\"\n        title=\"体验条款\"\n        visible={visible}\n        onClose={() => setVisible(false)}\n      >\n        <div className=\"term-content\">\n          <p>\n            {`本云中照相馆互动产品及服务由【${appConfig.legalEntityName}】（以下简称“${appConfig.legalEntityName}”）提供，为使用该互动功能，您需要授权同意${appConfig.legalEntityName}收集、使用您参与该互动生成的图像信息，用于${appConfig.legalEntityName}对图像信息进行提取并在云端对图像进行AI处理及合成；合成后您可以对照片进行保存或现场发送至打印机进行打印。互动过程中您可以随时撤回授权同意，撤回授权后或互动结束后，您的原始图像、合成后的图像以及从中提取的全部信息${appConfig.legalEntityName}将立即予以删除。`}\n          </p>\n        </div>\n        <div>\n          <Checkbox\n            checked={agree}\n            onChange={() => {\n              setShowError(false);\n              setAgree(!agree);\n            }}\n          >\n            我已知晓本互动产品及服务的功能收集上述个人信息，并同意对其的收集、使用处理行为。查看\n          </Checkbox>\n          <a target=\"_blank\" href=\"/#/term-of-use\" className=\"term\">\n            《体验条款》\n          </a>\n        </div>\n        <div className=\"bt-1-c\">\n          <button\n            onClick={() => {\n              if (!agree) {\n                setShowError(true);\n                return;\n              }\n              nextClick();\n            }}\n            className=\"button\"\n          >\n            点击开始\n          </button>\n          <div className=\"error tips text-center\">\n            {showError && <span>请阅读并同意体验条款</span>}\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default StepInfo;\n","import React, { useState, useEffect } from \"react\";\nimport Title from \"pages/common/Title\";\nimport StepInfo from \"../common/StepInfo\";\nimport StepTakePhoto from \"./StepTakePhoto\";\nimport StepChooseBG from \"./StepChooseBG\";\nimport StepPrint from \"./StepPrint\";\nimport ExitButton from \"pages/common/ExitButton\";\nimport CopyRight from \"pages/common/CopyRight\";\nimport useKeyPress from \"hooks/useKeypress\";\n\nenum EnumStep {\n  INFO,\n  CHOOSE_BG,\n  TAKE_PHOTO,\n  PRINT,\n}\n\nconst PhotoDemo: React.FC = () => {\n  const [curStep, setCurStep] = useState(EnumStep.INFO);\n  const [userBg, setUserBg] = useState(1);\n  // const [oriImageData, setOriImageData] = useState(\"\");\n  const [resImageUrl, setresImageUrl] = useState(\"\");\n\n  const arrowLeftPressed = useKeyPress(\"ArrowLeft\");\n  const arrowDownPressed = useKeyPress(\"ArrowDown\");\n  const arrowUpPressed = useKeyPress(\"ArrowUp\");\n\n  useEffect(() => {\n    if (arrowDownPressed) {\n      // if (curStep === EnumStep.CHOOSE_BG) {\n      //   setCurStep(EnumStep.INFO);\n      // }\n    }\n  }, [arrowDownPressed]);\n\n  useEffect(() => {\n    if (curStep === EnumStep.CHOOSE_BG) {\n      if (arrowUpPressed) {\n        setCurStep(EnumStep.INFO);\n      }\n    }\n    if (curStep === EnumStep.TAKE_PHOTO) {\n      if (arrowUpPressed || arrowLeftPressed) {\n        setCurStep(EnumStep.CHOOSE_BG);\n      }\n    }\n    if (curStep === EnumStep.PRINT) {\n      if (arrowUpPressed || arrowLeftPressed) {\n        setCurStep(EnumStep.TAKE_PHOTO);\n      }\n    }\n  }, [arrowUpPressed]);\n\n  return (\n    <div className=\"container\">\n      <ExitButton hasTips={true} />\n      <Title\n        title=\"云端AI照片合成及打印\"\n        desc=\"任意背景拍下照片，云端做AI抠图处理及相片合成，可扫码保存照片或发送至打印机打印。\"\n      />\n      {curStep === EnumStep.INFO && (\n        <StepInfo\n          title={\"主题照片 交互体验说明\"}\n          stepInfoFirst=\"拍摄任意背景人像\"\n          stepInfoSecond=\"云端AI自动抠图及添加背景\"\n          stepInfoThird=\"打印或扫码保存照片\"\n          prevClick={() => {\n            console.info(\"PREV\");\n          }}\n          nextClick={() => {\n            setCurStep(EnumStep.CHOOSE_BG);\n          }}\n        />\n      )}\n      {curStep === EnumStep.CHOOSE_BG && (\n        <StepChooseBG\n          // oriImageData={oriImageData}\n          prevClick={() => {\n            setCurStep(EnumStep.INFO);\n          }}\n          nextClick={(bgId: number) => {\n            setUserBg(bgId);\n            setCurStep(EnumStep.TAKE_PHOTO);\n          }}\n          // nextClick={(imageUrl: string) => {\n          //   setCurStep(EnumStep.PRINT);\n          //   setresImageUrl(imageUrl);\n          // }}\n        />\n      )}\n      {curStep === EnumStep.TAKE_PHOTO && (\n        <StepTakePhoto\n          userBg={userBg}\n          prevClick={() => {\n            setCurStep(EnumStep.CHOOSE_BG);\n          }}\n          nextClick={(resImgData: string) => {\n            setresImageUrl(resImgData);\n            setCurStep(EnumStep.PRINT);\n          }}\n        />\n      )}\n\n      {curStep === EnumStep.PRINT && (\n        <StepPrint\n          backToHome={() => {\n            setCurStep(EnumStep.INFO);\n          }}\n          prevClick={() => {\n            setCurStep(EnumStep.TAKE_PHOTO);\n          }}\n          imageUrl={resImageUrl}\n        />\n      )}\n      <CopyRight />\n    </div>\n  );\n};\n\nexport default PhotoDemo;\n","import { format } from \"date-fns\";\n\nexport const SUMMIT_COUNT_DOWN_NUM = \"SUMMIT_COUNT_DOWN_NUM\";\nexport const SUMMIT_COUNT_DOWN_NUM_DEFAULT = 3;\n\nexport const SUMMIT_PRINTER_NUM = \"SUMMIT_PRINTER_NUM\";\nexport const SUMMIT_PRINTER_NUM_DEFAULT = 1;\n\n// export const VIDEO_WIDTH = 400;\n// export const VIDEO_HEIGHT = 225;\nexport const VIDEO_WIDTH_RES = 2560;\nexport const VIDEO_HEIGHT_RES = 1440;\nexport const PHOTO_WIDTH = 700;\nexport const VIDEO_WIDTH = 500;\n\nexport const getCurrentTime = (): string => {\n  return format(new Date(), \"yyyy-MM-dd HH:mm:ss\");\n};\n\n// export const WEBSOCKET_ENDPOINT =\n//   \"https://summit-websocket.m.solutions.aws.a2z.org.cn\";\n// export const IMAGE_PATH =\n//   \"https://photo-magic-stack-assetbucket1d025086-i0mmmaqap4ra.s3.cn-north-1.amazonaws.com.cn/\";\n// export const API_BG_LIST =\n//   \"https://humanseg-summit.s3.us-west-2.amazonaws.com/background/background.json\";\n// export const API_URL =\n//   \"https://5lfxevs1b1.execute-api.cn-north-1.amazonaws.com.cn/humanseg\";\n// export const IMAGE_URL = \"https://photo.m.solutions.aws.a2z.org.cn/images/\";\n","export default __webpack_public_path__ + \"static/media/prev-icon.6c6b4637.svg\";","import React from \"react\";\nimport { ButtonProps } from \"assets/types\";\nimport PREV_ICON from \"assets/images/prev-icon.svg\";\n\nconst PrevIcon: React.FC<ButtonProps> = (props: ButtonProps) => {\n  const { onClick, text } = props;\n  return (\n    <div className=\"nav-button flex-col\" onClick={onClick}>\n      <div>\n        <img src={PREV_ICON} />\n      </div>\n      <div className=\"button-text\">{text}</div>\n    </div>\n  );\n};\n\nexport default PrevIcon;\n","export default __webpack_public_path__ + \"static/media/next-icon.e334e2f4.svg\";","import React from \"react\";\nimport { ButtonProps } from \"assets/types\";\nimport NEXT_ICON from \"assets/images/next-icon.svg\";\n\nconst NextIcon: React.FC<ButtonProps> = (props: ButtonProps) => {\n  const { onClick, text } = props;\n  return (\n    <div className=\"nav-button flex-col\" onClick={onClick}>\n      <div>\n        <img src={NEXT_ICON} />\n      </div>\n      <div className=\"button-text\">{text}</div>\n    </div>\n  );\n};\n\nexport default NextIcon;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport Webcam from \"react-webcam\";\nimport Axios from \"assets/js/http\";\nimport { MImage } from \"mcanvas\";\n\nimport {\n  // API_URL,\n  // IMAGE_PATH,\n  SUMMIT_COUNT_DOWN_NUM,\n  SUMMIT_COUNT_DOWN_NUM_DEFAULT,\n  VIDEO_HEIGHT_RES,\n} from \"assets/js/const\";\nimport { StepProps } from \"assets/types/index\";\nimport { VIDEO_WIDTH_RES, PHOTO_WIDTH } from \"assets/js/const\";\nimport PrevIcon from \"../common/comps/PrevIcon\";\nimport NextIcon from \"../common/comps/NextIcon\";\nimport Swal from \"sweetalert2\";\nimport AppContext from \"context/AppContext\";\nimport useKeyPress from \"hooks/useKeypress\";\n\nconst COUND_DOWN =\n  Number.parseInt(localStorage.getItem(SUMMIT_COUNT_DOWN_NUM) || \"0\") ||\n  SUMMIT_COUNT_DOWN_NUM_DEFAULT;\n\n// const COUNT_DOWN_SECOND = 3;\nconst ratio = 2560 / 700;\n\nconst StepTakePhoto: React.FC<StepProps> = (props: StepProps) => {\n  const appConfig = useContext(AppContext);\n  const { userBg, prevClick, nextClick } = props;\n  const webcamRef = React.useRef<Webcam>(null);\n  const [imageRes, setImageRes] = useState<string>(\"\");\n  const [showRequirePhoto, setShowRequirePhoto] = useState(false);\n  const [countDownNum, setCountDownNum] = useState(\n    Number.parseInt(localStorage.getItem(SUMMIT_COUNT_DOWN_NUM) || \"0\") ||\n      SUMMIT_COUNT_DOWN_NUM_DEFAULT\n  );\n  const [startCountDown, setStartCountDown] = useState(false);\n  const [loadingData, setLoadingData] = useState(false);\n  const [photoMirrored, setPhotoMirrored] = useState(\n    appConfig.photoMirroredDefault\n  );\n\n  const pageUpPressed = useKeyPress(\"PageUp\");\n  const pageDownPressed = useKeyPress(\"PageDown\");\n  const enterPressed = useKeyPress(\"Enter\");\n\n  const arrowDownPressed = useKeyPress(\"ArrowDown\");\n  const arrowRightPressed = useKeyPress(\"ArrowRight\");\n\n  useEffect(() => {\n    if (arrowDownPressed || arrowRightPressed) {\n      if (!imageRes) {\n        setShowRequirePhoto(true);\n        return;\n      }\n      if (loadingData) {\n        Swal.fire(\"各位帅哥美女，不要着急，请等待AI处理完成再来点我\");\n        return;\n        return;\n      }\n      nextClick(imageRes);\n    }\n  }, [arrowDownPressed, arrowRightPressed]);\n\n  useEffect(() => {\n    if (pageUpPressed || pageDownPressed || enterPressed) {\n      setStartCountDown(true);\n    }\n  }, [pageUpPressed, pageDownPressed, enterPressed]);\n\n  const buildAIBgPhoto = (imageData: string) => {\n    const data = {\n      task: \"image\",\n      img: imageData?.replace(\"data:image/jpeg;base64,\", \"\"),\n      background: userBg,\n      // background:\n      //   BG_IMG_LIST.find((image) => {\n      //     return image.id === userBg;\n      //   })?.orgImg || \"\",\n    };\n    setLoadingData(true);\n    Axios.post(appConfig.photoAPIUrl, data).then((res) => {\n      console.info(\"ai res:\", res);\n      setLoadingData(false);\n      // nextClick(res.data.rlt_image);\n      setImageRes(res.data.rlt_image);\n    });\n  };\n\n  const capture = React.useCallback(() => {\n    const imageSrc =\n      webcamRef?.current?.getScreenshot({\n        width: VIDEO_WIDTH_RES,\n        height: VIDEO_HEIGHT_RES,\n      }) || \"\";\n    // console.info(\"imageSrc:\", imageSrc);\n    const mi = new MImage(imageSrc);\n    mi.crop({\n      x: 220 * ratio,\n      y: 0,\n      width: 260 * ratio,\n      height: 394 * ratio,\n      radius: 1,\n    }).draw((b64) => {\n      console.log(b64);\n      setImageRes(b64 || \"\");\n      setShowRequirePhoto(false);\n      setStartCountDown(false);\n      setCountDownNum(\n        Number.parseInt(localStorage.getItem(SUMMIT_COUNT_DOWN_NUM) || \"0\") ||\n          SUMMIT_COUNT_DOWN_NUM_DEFAULT\n      );\n      buildAIBgPhoto(imageSrc || \"\");\n    });\n    // console.info(\"cropedImg:\", cropedImg);\n    // setImageRes(cropedImg._image);\n    // setImageRes(imageSrc || \"\");\n  }, [webcamRef]);\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let id: any = 0;\n    if (startCountDown) {\n      id = setInterval(() => {\n        // getDashboardData();\n        // console.info(\"countDownNum:\", countDownNum);\n        setCountDownNum((prev) => {\n          console.info(\"prev - 1:\", prev - 1);\n          if (prev - 1 === 0) {\n            clearInterval(id);\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    } else {\n      clearInterval(id);\n    }\n    return () => clearInterval(id);\n  }, [startCountDown]);\n\n  useEffect(() => {\n    console.info(\"EFFECT:countDownNum:\", countDownNum);\n    if (countDownNum === 0) {\n      capture();\n    }\n  }, [countDownNum]);\n\n  const videoConstraints = {\n    width: VIDEO_WIDTH_RES,\n    height: VIDEO_HEIGHT_RES,\n    facingMode: \"user\",\n  };\n\n  return (\n    <div className=\"demo-area\">\n      <div className=\"demo-title\">拍摄人像</div>\n      <div className=\"step-image\">\n        <PrevIcon text=\"选择背景\" onClick={prevClick} />\n        <div\n          className=\"flex-shrink text-center align-self-center\"\n          style={{ width: PHOTO_WIDTH }}\n        >\n          <div className=\"take-photo-tips text-left\">\n            点击拍照后有{COUND_DOWN}秒倒计时。\n            <br />\n            笑起来拍的更好看哦！\n          </div>\n          <div\n            className=\"pr\"\n            style={{ transform: \"translateX(-220px)\", zIndex: -1 }}\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                width: 260,\n                height: \"100%\",\n                // border: \"1px solid #f00\",\n                left: 220,\n                bottom: 0,\n                zIndex: 2,\n              }}\n            >\n              <img\n                width=\"100%\"\n                src={`${appConfig.backgroundPhotoUrl}background/${\n                  userBg || 0\n                }-middle.png`}\n              />\n            </div>\n            <div\n              style={{\n                position: \"absolute\",\n                width: 220,\n                height: \"100%\",\n                backgroundColor: \"#fff\",\n                left: 0,\n                top: 0,\n                zIndex: 1,\n              }}\n            ></div>\n            <div\n              style={{\n                zIndex: 1,\n                position: \"absolute\",\n                width: 220,\n                height: \"100%\",\n                backgroundColor: \"#fff\",\n                right: 0,\n                top: 0,\n              }}\n            ></div>\n            {startCountDown && (\n              <div className=\"fix-count-down\">{countDownNum}</div>\n            )}\n            <Webcam\n              style={{\n                height: \"100%\",\n                width: \"100%\",\n                objectFit: \"fill\",\n                objectPosition: \"center\",\n              }}\n              mirrored={photoMirrored}\n              audio={false}\n              forceScreenshotSourceSize={true}\n              ref={webcamRef}\n              screenshotFormat=\"image/jpeg\"\n              videoConstraints={videoConstraints}\n            />\n          </div>\n          <div\n            className=\"pt-20 pb-20\"\n            style={{ transform: \"translateX(-220px)\" }}\n          >\n            <span className=\"mirror-type\">\n              <label>\n                <input\n                  checked={photoMirrored}\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    console.info(\"event:\", event.target.checked);\n                    setPhotoMirrored(event.target.checked);\n                    // webcamRef.current?.render();\n                  }}\n                />{\" \"}\n                镜像\n              </label>\n            </span>\n            <button\n              className=\"button\"\n              onClick={() => {\n                setStartCountDown(true);\n              }}\n            >\n              拍照\n            </button>\n          </div>\n        </div>\n        <div\n          className=\"flex-shrink text-center\"\n          style={{ width: 260, marginLeft: -220 }}\n        >\n          <div className=\"take-photo-tips text-left\">\n            拍完照自动发到云端做AI处理。可能需要几秒钟的时间，耐心等待哦！\n          </div>\n          <div\n            className=\"preview-image\"\n            style={{\n              width: 260,\n              minHeight: 394,\n            }}\n          >\n            {/* <img src={imageRes} /> */}\n            {loadingData && (\n              <div className=\"qr-scanner\" style={{ width: 260, height: 394 }}>\n                <div className=\"box\">\n                  <div className=\"line\"></div>\n                  <div className=\"angle\"></div>\n                </div>\n              </div>\n            )}\n            {showRequirePhoto ? <div className=\"red\">请拍摄照片!</div> : <></>}\n            {imageRes && <img width=\"100%\" src={imageRes} />}\n          </div>\n          <div className=\"pt-20 pb-20 fs-18\">照片预览</div>\n        </div>\n\n        <NextIcon\n          text=\"保存照片\"\n          onClick={() => {\n            if (!imageRes) {\n              setShowRequirePhoto(true);\n              return;\n            }\n            if (loadingData) {\n              Swal.fire(\"各位帅哥美女，不要着急，请等待AI处理完成再来点我\");\n              return;\n              return;\n            }\n            nextClick(imageRes);\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default StepTakePhoto;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport { StepProps } from \"assets/types/index\";\nimport PrevIcon from \"../common/comps/PrevIcon\";\nimport NextIcon from \"../common/comps/NextIcon\";\n// import { API_BG_LIST } from \"assets/js/const\";\nimport Axios from \"assets/js/http\";\nimport AppContext from \"context/AppContext\";\nimport useKeyPress from \"hooks/useKeypress\";\n\nconst StepChooseBG: React.FC<StepProps> = (props: StepProps) => {\n  const { prevClick, nextClick } = props;\n  // const [loadingData, setLoadingData] = useState(false);\n  const [curBg, setCurBg] = useState(0);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const [bgMapList, setBgMapList] = useState<any>({});\n  const [loadingData, setLoadingData] = useState(false);\n\n  const appConfig = useContext(AppContext);\n\n  const arrowLeftPressed = useKeyPress(\"ArrowLeft\");\n  const arrowRightPressed = useKeyPress(\"ArrowRight\");\n\n  useEffect(() => {\n    if (arrowLeftPressed) {\n      setCurBg((prev) => {\n        return prev < 1 ? Object.keys(bgMapList).length - 1 : prev - 1;\n      });\n    }\n  }, [arrowLeftPressed]);\n\n  useEffect(() => {\n    if (arrowRightPressed) {\n      setCurBg((prev) => {\n        return prev > Object.keys(bgMapList).length - 2 ? 0 : prev + 1;\n      });\n    }\n  }, [arrowRightPressed]);\n\n  const enterPressed = useKeyPress(\"Enter\");\n  const arrowDownPressed = useKeyPress(\"ArrowDown\");\n\n  useEffect(() => {\n    if (enterPressed || arrowDownPressed) {\n      nextClick(curBg);\n    }\n  }, [enterPressed, arrowDownPressed]);\n\n  useEffect(() => {\n    setLoadingData(true);\n    Axios.get(appConfig.backgroundPhotoJSONUrl).then((res) => {\n      setLoadingData(false);\n      console.info(\"AAA:\", res);\n      setBgMapList(res.data);\n    });\n  }, []);\n\n  return (\n    <div className=\"demo-area\">\n      <div className=\"demo-title\">选择照片背景</div>\n      <div className=\"step-image\">\n        <PrevIcon text=\"返回首页\" onClick={prevClick} />\n        <div className=\"m-w-800 choose-bg flex flex-wrap align-item-align-start\">\n          {loadingData ? (\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#ec7211\"\n              height={50}\n              width={50}\n              // timeout={3000} //3 secs\n            />\n          ) : (\n            <>\n              {Object.entries(bgMapList).map(([key]) => (\n                <div\n                  style={{ width: `${100 / appConfig.photoRowCount}%` }}\n                  key={key}\n                  className={\n                    curBg === Number.parseInt(key)\n                      ? \"image-item text-center active\"\n                      : \"image-item text-center\"\n                  }\n                >\n                  <div>\n                    <img\n                      onClick={() => {\n                        setCurBg(Number.parseInt(key));\n                      }}\n                      width=\"100%\"\n                      src={bgMapList[key][0]}\n                    />\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n        <NextIcon\n          text=\"下一步\"\n          onClick={() => {\n            nextClick(curBg);\n            // buildAIBgPhoto();\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default StepChooseBG;\n","export default __webpack_public_path__ + \"static/media/print.9be6b428.jpg\";","import React from \"react\";\n\ninterface ImageProps {\n  imgSrc: string;\n}\n\nconst PrintImage: React.FC<ImageProps> = (props: ImageProps) => {\n  const { imgSrc } = props;\n  return (\n    <div className=\"text-center\">\n      <img className=\"image-content\" width=\"200\" src={imgSrc} />\n    </div>\n  );\n};\n\nexport default PrintImage;\n","import React, { useRef, useState, useEffect, useContext } from \"react\";\n// import ReactToPrint from \"react-to-print\";\nimport QRCode from \"qrcode.react\";\nimport Printer from \"assets/images/print.jpg\";\nimport PrintImage from \"../common/comps/PrintImage\";\n// import Swal from \"sweetalert2\";\nimport { getCurrentTime, SUMMIT_PRINTER_NUM } from \"assets/js/const\";\nimport Modal from \"aws-northstar/components/Modal\";\nimport socketIOClient from \"socket.io-client\";\nimport AppContext from \"context/AppContext\";\nimport useKeyPress from \"hooks/useKeypress\";\n\n// import PrevIcon from \"../common/comps/PrevIcon\";\n// import NextIcon from \"../common/comps/NextIcon\";\ninterface PrintProps {\n  backToHome: () => void;\n  prevClick: () => void;\n  imageUrl: string;\n}\n\nconst StepPrint: React.FC<PrintProps> = (props: PrintProps) => {\n  const { imageUrl } = props;\n\n  const componentRef = useRef<HTMLDivElement>(null);\n  const [visible, setVisible] = useState(false);\n  const [showPrint, setShowPrint] = useState(true);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  // const [likeCount, setLikeCount] = useState(SUMMIT_WECHAT_LIKE_NUM_DEFAULT);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const [webSocket, setWebSocket] = useState<any>(null);\n  const appConfig = useContext(AppContext);\n\n  const sendPhotoToServer = () => {\n    const messageObj = {\n      printerNum: localStorage.getItem(SUMMIT_PRINTER_NUM) || \"1\",\n      photoUrl: imageUrl,\n    };\n    const payload = {\n      action: \"sendPhoto\",\n      message: messageObj,\n    };\n    webSocket.send(JSON.stringify(payload));\n  };\n\n  const sendPhotoToServerSocketIO = () => {\n    webSocket.emit(\"PrintPhotos\", {\n      message: \"Photo\",\n      time: getCurrentTime(),\n      printerNum: localStorage.getItem(SUMMIT_PRINTER_NUM) || \"1\",\n      photoUrl: imageUrl,\n    });\n  };\n\n  const connect = () => {\n    const socket = new WebSocket(appConfig.websocketServerUrl);\n    socket.addEventListener(\"open\", (e) => {\n      console.log(\"WebSocket is connected:\", e);\n    });\n\n    socket.addEventListener(\"close\", (e) => {\n      console.log(\"WebSocket is closed:\", e);\n    });\n\n    socket.addEventListener(\"error\", (e) =>\n      console.error(\"WebSocket is in error\", e)\n    );\n    socket.addEventListener(\"message\", (e) => {\n      console.log(\"WebSocket received a message:\", e);\n      console.log(\"message:\", JSON.parse(e.data).message);\n    });\n    setWebSocket(socket);\n  };\n\n  const connectSocketIO = () => {\n    // const socket = socketIOClient(ENDPOINT);\n    const socket = socketIOClient(appConfig.websocketServerUrl, {\n      transports: [\"websocket\", \"polling\", \"flashsocket\"],\n      secure: true,\n    });\n    // socket.emit()\n    setWebSocket(socket);\n    socket.on(\"ConnectTime\", (data) => {\n      console.info(\"data:\", data);\n      // setResponse(data);\n    });\n    socket.on(\"disconnect\", (reason) => {\n      console.info(\"reason:\", reason);\n      // ...\n    });\n  };\n\n  const enterPressed = useKeyPress(\"Enter\");\n  const arrowDownPressed = useKeyPress(\"ArrowDown\");\n\n  useEffect(() => {\n    if (enterPressed || arrowDownPressed) {\n      setVisible(true);\n    }\n  }, [enterPressed, arrowDownPressed]);\n\n  useEffect(() => {\n    console.info(\"visible, enterPressed\", visible, enterPressed);\n    if (visible && enterPressed) {\n      setVisible(false);\n      // console.info(\"HIDE PRINT BUTTON\");\n      setShowPrint(false);\n      if (appConfig.websocketServerUrl.startsWith(\"http\")) {\n        sendPhotoToServerSocketIO();\n      } else {\n        sendPhotoToServer();\n      }\n    }\n  }, [enterPressed]);\n\n  useEffect(() => {\n    if (appConfig.websocketServerUrl.startsWith(\"http\")) {\n      connectSocketIO();\n    } else {\n      if (appConfig.websocketServerUrl) {\n        connect();\n      }\n    }\n  }, [appConfig.websocketServerUrl]);\n\n  return (\n    <div className=\"demo-area m-h-500\">\n      <div className=\"restart-button\">\n        {/* <button\n          className=\"button\"\n          onClick={() => {\n            Swal.fire({\n              title: \"重新开始\",\n              text: \"您当前的照片将会丢失，真的要重新开始么?\",\n              icon: \"warning\",\n              showCancelButton: true,\n              confirmButtonColor: \"#ec7211\",\n              cancelButtonColor: \"#CCC\",\n              cancelButtonText: \"取消\",\n              confirmButtonText: \"确定\",\n              reverseButtons: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                backToHome();\n              }\n            });\n          }}\n        >\n          重新开始\n        </button> */}\n      </div>\n      <div className=\"demo-title\">照片保存及打印</div>\n      <div className=\"step-image flex-just-center\">\n        {/* <PrevIcon text=\"拍摄照片\" onClick={prevClick} /> */}\n        <div className=\"text-center hide\">\n          <div className=\"w-500\">\n            <div ref={componentRef}>\n              <PrintImage imgSrc={imageUrl} />\n            </div>\n            <div className=\"fs-18\">效果预览</div>\n          </div>\n        </div>\n        <div className=\"text-center mr-20\">\n          <div className=\"w-500 pt-30\">\n            {appConfig.wechatLikeNum > 0 && (\n              <div className=\"friend-tips\">\n                转发朋友圈点赞\n                <b style={{ fontSize: 24 }}>{appConfig.wechatLikeNum}</b>\n                个以上可以来领取<b style={{ color: \"#f00\" }}>精美礼品</b>哦！\n              </div>\n            )}\n            <QRCode size={250} width={250} height={250} value={imageUrl} />\n            <div className=\"fs-18\">扫码保存</div>\n          </div>\n        </div>\n        <div className=\"text-center ml-20\">\n          <div className=\"w-500 pt-30\">\n            <img width=\"360\" src={Printer} />\n            <div className=\"fs-18 mt-20\">\n              {showPrint && (\n                <button\n                  className=\"button\"\n                  onClick={() => {\n                    // sendPhotoToServer();\n                    setVisible(true);\n                  }}\n                >\n                  打印照片\n                </button>\n              )}\n\n              {/* <ReactToPrint\n                trigger={() => <button className=\"button\">打印照片</button>}\n                content={() => componentRef.current}\n              /> */}\n            </div>\n          </div>\n        </div>\n        {/* <div className=\"nav-button pt-50\">\n          <ReactToPrint\n            trigger={() => (\n              <NextIcon\n                text=\"打印\"\n                onClick={() => {\n                  console.info(\"CLICK\");\n                }}\n              />\n            )}\n            content={() => componentRef.current}\n          />\n        </div> */}\n      </div>\n\n      <Modal\n        width=\"340px\"\n        title=\"照片打印\"\n        visible={visible}\n        onClose={() => setVisible(false)}\n        footer={\n          <div className=\"modal-f-button flex flex-just-space-between\">\n            <div>\n              <button\n                className=\"button-link-print\"\n                onClick={() => {\n                  setVisible(false);\n                  setShowPrint(true);\n                }}\n              >\n                取消\n              </button>\n            </div>\n            <div>\n              <button\n                className=\"button-print\"\n                onClick={() => {\n                  setVisible(false);\n                  // console.info(\"HIDE PRINT BUTTON\");\n                  setShowPrint(false);\n                  if (appConfig.websocketServerUrl.startsWith(\"http\")) {\n                    sendPhotoToServerSocketIO();\n                  } else {\n                    sendPhotoToServer();\n                  }\n                }}\n              >\n                立即打印\n              </button>\n            </div>\n            {/* <div>\n              <ReactToPrint\n                onAfterPrint={() => {\n                  console.info(\"AFTER\");\n                  setVisible(false);\n                  setShowPrint(false);\n                  console.info(\"HIDE PRINT BUTTON\");\n                }}\n                trigger={() => (\n                  <button className=\"button-print\">浏览器打印</button>\n                )}\n                content={() => componentRef.current}\n              />\n            </div> */}\n          </div>\n        }\n      >\n        <div className=\"image-content\">\n          <PrintImage imgSrc={imageUrl} />\n        </div>\n        <div className=\"bt-1-c\">\n          您确定要打印此照片么。本着绿色环保的原则，只能打印一张哦\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default StepPrint;\n","import React, { useEffect } from \"react\";\nimport Swal from \"sweetalert2\";\nimport useKeyPress from \"hooks/useKeypress\";\n\ninterface ExitButtonProps {\n  title?: string;\n  hasTips: boolean;\n}\n\nconst ExitButton: React.FC<ExitButtonProps> = ({\n  title,\n  hasTips,\n}: ExitButtonProps) => {\n  const alertUser = () => {\n    Swal.fire({\n      title: \"确定要退出吗？\",\n      text: \"当前保存的信息都会丢失!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#ec7211\",\n      cancelButtonColor: \"#CCC\",\n      cancelButtonText: \"继续体验\",\n      confirmButtonText: \"确定退出\",\n      reverseButtons: true,\n    }).then((result) => {\n      if (result.isConfirmed) {\n        window.location.href = \"/\";\n      }\n    });\n  };\n\n  const escapePressed = useKeyPress(\"Escape\");\n\n  useEffect(() => {\n    if (escapePressed) {\n      if (hasTips) {\n        alertUser();\n      } else {\n        window.location.href = \"/\";\n      }\n    }\n  }, [escapePressed]);\n\n  return (\n    <div className=\"exit-button\">\n      <button\n        onClick={() => {\n          if (hasTips) {\n            alertUser();\n          } else {\n            window.location.href = \"/\";\n          }\n        }}\n        className=\"button\"\n        style={{\n          minWidth: \"100px\",\n          padding: \"5px 10px\",\n        }}\n      >\n        {title ? title : \"退出\"}\n      </button>\n    </div>\n  );\n};\n\nexport default ExitButton;\n","import React from \"react\";\n\nconst CopyRight: React.FC = () => {\n  return (\n    <div className=\"copy-right\">\n      此交互体验基于亚马逊云科技多种服务构建（如SageMaker、Lambda、API\n      Gateway，CloudFront等）\n    </div>\n  );\n};\n\nexport default CopyRight;\n","import React, { useState } from \"react\";\nimport Title from \"pages/common/Title\";\nimport {\n  SUMMIT_COUNT_DOWN_NUM,\n  SUMMIT_COUNT_DOWN_NUM_DEFAULT,\n  SUMMIT_PRINTER_NUM,\n  SUMMIT_PRINTER_NUM_DEFAULT,\n} from \"assets/js/const\";\nimport ExitButton from \"pages/common/ExitButton\";\n\nconst StepInfo: React.FC = () => {\n  const [countDownNum, setCountDownNum] = useState(\n    localStorage.getItem(SUMMIT_COUNT_DOWN_NUM) || SUMMIT_COUNT_DOWN_NUM_DEFAULT\n  );\n  // const [imageBgNum, setImageBgNum] = useState(\n  //   localStorage.getItem(SUMMIT_IMAGE_BG_COUNT_NUM) ||\n  //     SUMMIT_IMAGE_BG_COUNT_NUM_DEFAULT\n  // );\n\n  const [printerNum, setPrinterNum] = useState(\n    localStorage.getItem(SUMMIT_PRINTER_NUM) || SUMMIT_PRINTER_NUM_DEFAULT\n  );\n\n  const saveSetting = () => {\n    localStorage.setItem(SUMMIT_COUNT_DOWN_NUM, countDownNum.toString());\n    // localStorage.setItem(SUMMIT_IMAGE_BG_COUNT_NUM, imageBgNum.toString());\n    localStorage.setItem(SUMMIT_PRINTER_NUM, printerNum.toString());\n  };\n  return (\n    <div className=\"container\">\n      <ExitButton hasTips={false} />\n      <Title title=\"云端照相馆设置\" desc=\"\" />\n      <div className=\"demo-area\">\n        <div className=\"demo-title\">拍照设置</div>\n        <div>\n          <div className=\"setting-item flex\">\n            <div className=\"label\">拍照倒计时(秒)</div>\n            <div className=\"input\">\n              <input\n                value={countDownNum}\n                type=\"number\"\n                onChange={(event) => {\n                  setCountDownNum(event.target.value);\n                }}\n              />\n            </div>\n          </div>\n\n          {/* <div className=\"setting-item flex\">\n            <div className=\"label\">图片背景张数</div>\n            <div className=\"input\">\n              <input\n                value={imageBgNum}\n                type=\"number\"\n                onChange={(event) => {\n                  setImageBgNum(event.target.value);\n                }}\n              />\n            </div>\n          </div> */}\n\n          <div className=\"setting-item flex\">\n            <div className=\"label\">打印机编号</div>\n            <div className=\"input\">\n              <input\n                value={printerNum}\n                type=\"number\"\n                onChange={(event) => {\n                  setPrinterNum(event.target.value);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"start-button text-center\">\n          <button\n            className=\"button\"\n            onClick={() => {\n              saveSetting();\n            }}\n          >\n            保存\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StepInfo;\n","import React from \"react\";\nimport ExitButton from \"./common/ExitButton\";\nimport Title from \"./common/Title\";\n\nconst Term: React.FC = () => {\n  return (\n    <div className=\"container\">\n      <ExitButton title=\"回到首页\" hasTips={false} />\n      <Title\n        title=\"云中照相馆体验条款\"\n        desc=\"这个是一个交互体验。云端人工智能技术助您完成照片合成，快来制作属于您的主题作品吧。\"\n      />\n      <div className=\"demo-area term-of-use\">\n        <div>\n          <div>个人信息保护政策</div>\n\n          <p>\n            个人信息保护政策(“本政策”)旨在向您说明，在使用云中照相机（以下称“产品”或\n            “服务”）时，您应了解的内容：\n          </p>\n\n          <ul>\n            <li>一、我们如何收集和使用您的个人信息</li>\n\n            <li>二、我们如何共享、转让、公开披露您的个人信息</li>\n\n            <li>三、我们如何保护您的个人信息</li>\n\n            <li>四、适用法律及管辖</li>\n\n            <li>五、我们的联系方式</li>\n          </ul>\n\n          <p>\n            我们非常重视对您的个人信息的保护，我们也致力于维持您对我们的信任，我们承诺将按业界普遍适用的安全标准，采取相应的安全保护措施来保护您的个人信息，在此基础上，我们承诺对您个人信息收集、使用的最大限度不超过本《个人信息保护政策》的范畴。同时，需要特别说明的是，本政策不适用于其他第三方向您提供的产品或服务。如果您使用第三方提供的产品或服务，请关注第三方产品或服务的用户协议及个人信息保护政策。\n          </p>\n\n          <div>\n            在使用我们的产品和服务前，请您务必仔细阅读并充分了解本政策。\n          </div>\n\n          <div>一、我们如何收集和使用您的个人信息</div>\n\n          <div>1、我们可能从第三方间接获取您的个人信息：</div>\n          <div>\n            1）您使用第三方帐号（微信）扫描时，可选择授权云中照相机在符合相关法律法规要求的前提下读取并获得您在该第三方平台上登记、公布、记录的公开信息（包括昵称、头像）。\n          </div>\n\n          <div>2、基于其它特别情况对您的个人信息的使用：</div>\n          <div>\n            1）如果您认为您的相关权利遭受侵犯，您可依据我们的侵权投诉流程、通过我们对外公布的联系方式提起投诉、举报。在此过程中，我们将要求您提供个人有效身份信息以核实投诉、举报的真实性。\n          </div>\n\n          <div>二、我们如何共享、转让、公开披露您的个人信息</div>\n\n          <div>1、共享</div>\n\n          <div>\n            我们不会与任何公司、组织、个人分享您的个人信息，但以下情况除外：\n          </div>\n\n          <div>\n            1）在获取明确同意的情况下共享：获得您的明确同意后，我们会与其他方共享您的个人信息。\n          </div>\n\n          <div>\n            2）在法定条件下共享：我们可能会根据法律法规规定、诉讼争议解决需要、按照政府主管部门或司法机关依法提出的强制要求，对外共享您的个人信息。\n          </div>\n\n          <div>\n            3）在法律要求或允许的范围内，为了保护用户或社会公众的利益、财产或安全免遭损害而有必要提供您的个人信息给第三方；\n          </div>\n\n          <div>2、转让</div>\n\n          <div>\n            我们将不会将您的个人信息转让给任何公司、组织和个人，但以下情况除外：\n          </div>\n\n          <div>\n            1）在明确获得您的同意的前提下，我们会向其他方转让您的个人信息；\n          </div>\n\n          <div>\n            2）在涉及合并、收购或破产清算时，如涉及到个人信息转让，我们会在要求新的持有您个人信息的公司、组织等主体继续接受此个人信息保护政策的约束，如果本政策约定的个人信息的收集、处理方式、使用目的等发生改变，我们将要求该公司、组织等主体重新向您征求授权同意。\n          </div>\n\n          <div>3、公开披露</div>\n\n          <div>我们仅会在以下情况下，收集或公开披露您的个人信息：</div>\n\n          <div>1）获得您明确的同意后；</div>\n\n          <div>\n            2）基于法律法规、司法机关或行政主管部门的强制性要求，我们可能会披露您的个人信息。\n          </div>\n\n          <div>4、不经授权收集、共享、转让或公开披露个人信息的例外</div>\n\n          <div>\n            根据相关法律法规的规定，在以下情形中，我们可以在不征得您的授权同意的情况下收集、共享、转让或公开披露您的个人信息。\n          </div>\n\n          <div>A. 与国家安全、国防安全等国家利益直接相关的；</div>\n          <div>B. 与公共安全、公共卫生、公众知情等重大公共利益直接相关的；</div>\n          <div>C. 与犯罪侦查、起诉、审判和判决执行等直接相关的；</div>\n          <div>\n            D.\n            出于维护您或其他个人的生命、财产、声誉等重大合法权益但又很难得到本人同意的；\n          </div>\n          <div>E. 根据您要求签订和履行合同所必需的；</div>\n          <div>\n            F.\n            用于维护所提供的产品或服务的安全稳定运行所必需的，例如发现、处置产品或服务的故障；\n          </div>\n          <div>\n            G.\n            出于公共利益开展统计或学术研究所必要，且其对外提供学术研究或描述的结果时，对结果中所包含的个人信息进行去标识化处理的；\n          </div>\n          <div>\n            H.\n            从合法公开披露的信息中收集到的个人信息的，如合法的新闻报道、政府信息公开等渠道；\n          </div>\n          <div>I. 法律法规规定的其他情形。</div>\n\n          <div>三、我们如何保护您的个人信息</div>\n\n          <div>\n            1、我们已使用符合业界标准的安全防护措施保护您提供的个人信息，防止数据遭到未经授权访问、公开披露、使用、修改、损坏或丢失。我们会采取一切合理可行的措施，保护您的个人信息。\n          </div>\n\n          <div>\n            2、我们会采取一切合理可行的措施，确保未收集无关的个人信息。我们承诺将使您的个人信息存储时间始终处于法律要求或实现产品功能和服务所需的合理必要的期限内。对于超出期限的个人信息，我们会立即删除或做匿名化处理。\n          </div>\n\n          <div>\n            3、互联网并非绝对安全的环境，而且电子邮件、即时通讯、及与其他用户的交流方式并未加密，我们强烈建议您不要通过此类方式发送个人信息。请使用复杂密码，协助我们保证您的账号安全。\n          </div>\n\n          <div>\n            4、互联网环境并非百分之百安全，我们将尽力确保或担保您发送给我们的任何信息的安全性。\n          </div>\n\n          <div>\n            5、在不幸发生个人信息安全事件后，我们将按照法律法规的要求，及时向您告知：安全事件的基本情况和可能的影响、我们已采取或将要采取\n            的处置措施、您可自主防范和降低风险的建议、对您的补救措施等。我们将及时将事件相关情况以邮件、信函、电话、推送通知等方式告知您，难以逐一告知个人信息主体时，我们会采取合理、有效的方式发布公告。同时，我们还将按照监管部门要求，主动上报个人信息安全事件的处置情况。{\" \"}\n          </div>\n\n          <div>四、适用法律及管辖</div>\n\n          <div>\n            本个人信息保护政策适用中华人民共和国大陆地区法律。本个人信息保护政策项下争议，由被告住所地法院管辖。\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Term;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.scss\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Axios from \"assets/js/http\";\nimport PhotoDemo from \"pages/photo/Photo\";\nimport Settings from \"pages/settings/Settings\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport AppContext, {\n  AppContextType,\n  APP_CONTEXT_DEFAULT,\n} from \"context/AppContext\";\nimport Loader from \"react-loader-spinner\";\nimport Term from \"pages/Term\";\n\nconst App: React.FC = () => {\n  const [loadingConfig, setLoadingConfig] = useState(false);\n  const [appConfig, setAppConfig] = useState<AppContextType>(\n    APP_CONTEXT_DEFAULT\n  );\n\n  useEffect(() => {\n    setLoadingConfig(true);\n    const timeStamp = new Date().getTime();\n    Axios.get(\"/config.json?time=\" + timeStamp).then((res) => {\n      console.info(\"res:\", res);\n      setAppConfig(res.data);\n      setLoadingConfig(false);\n      // setLikeCount(res.data.likeNum);\n    });\n  }, []);\n\n  if (loadingConfig) {\n    return (\n      <div className=\"text-center\">\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#ec7211\"\n          height={50}\n          width={50}\n          // timeout={3000} //3 secs\n        />\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <AppContext.Provider value={appConfig}>\n        <div className=\"summit\">\n          <div className=\"summit-header\">\n            <div className=\"logo\">\n              <img height=\"50\" src={appConfig.logoUrl} />\n              <span id=\"logoTitle\" className=\"title\"></span>\n            </div>\n            <div id=\"topAdmin\" className=\"admin\"></div>\n          </div>\n          <div className=\"summit-content\">\n            <Switch>\n              <Route exact path=\"/\" component={PhotoDemo} />\n              <Route exact path=\"/settings\" component={Settings} />\n              <Route exact path=\"/term-of-use\" component={Term} />\n            </Switch>\n          </div>\n        </div>\n      </AppContext.Provider>\n    </Router>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}